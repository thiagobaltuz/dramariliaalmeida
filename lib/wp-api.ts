const BASE=process.env.WP_API_BASE||"https://dramariliaalmeida.med.br/wp-json/wp/v2"; export async function getPosts({page=1,perPage=9}={}){const r=await fetch(`${BASE}/posts?per_page=${perPage}&page=${page}&_fields=id,slug,title,excerpt,date,featured_media`,{next:{revalidate:60}}); if(!r.ok) return []; return r.json();} export async function getPostBySlug(slug:string){const r=await fetch(`${BASE}/posts?slug=${encodeURIComponent(slug)}&_fields=id,slug,title,excerpt,content,date,featured_media`,{next:{revalidate:60}}); if(!r.ok) return null; const d=await r.json(); return d?.[0]||null;} export async function getMedia(id:number){if(!id) return null; const r=await fetch(`${BASE}/media/${id}`,{next:{revalidate:300}}); if(!r.ok) return null; return r.json();} export function stripScripts(h:string){return h?.replace(/<script[\s\S]*?>[\s\S]*?<\/script>/gi,)||h}